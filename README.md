# Truth-O-Meter: MAKING LLMs TRUTHFUL

## Introduction
------------

Despite its capabilities, GPT-4 and other LLLMs have similar limitations to earlier GPT models: it is not fully reliable (e.g. can suffer from “hallucinations”) : [OpenAI (2023)](https://cdn.openai.com/papers/gpt-4.pdf)

This project addresses this exact issue. It takes a text generated by a LM and verifies it against the web knowledge. Suspicious phrases and values are highlighted in sample HTML correction files in /html folder 

## Publications and presentation
------------
[July 2023 preprint](https://www.preprints.org/manuscript/202307.1723/v1)

[Book chapter](https://www.amazon.com/Artificial-Intelligence-Healthcare-Applications-Management-ebook/dp/B09QGJTPXZ) on improvement of older GPT1/2 content -> go to Chapter 15

[ACM Meetup presentation](https://1drv.ms/b/s!AlZzGY7TCKACjh46fyCSNCNwdRWW?e=XQh90c)'
[Meetup youtube video](https://www.youtube.com/watch?v=le65Q_w86f8&t=3293s)

[SIGIR-2024 Demo presentation](https://1drv.ms/b/s!AlZzGY7TCKACrxazbG6MDMY81W8A?e=hH3kPu)
[Demo paper](https://dl.acm.org/doi/abs/10.1145/3626772.3657679)

[Use case video for ChatGPT 4o correction in health](https://1drv.ms/v/s!AlZzGY7TCKACrjcGrfQKAVRGT84L?e=mNmoBD)


## Patent
------------
This project is inspired by the patent 
[CORRECTING CONTENT GENERATED BY DEEP LEARNING](https://patents.justia.com/patent/20220284174)

Abstract: Methods for correcting raw text generated by deep learning techniques is disclosed. The methods may be performed by systems/computing devices described herein. Raw text previously generated by the deep learning techniques may be obtained. A search query can be generated from a raw text sentence of the raw text. The search query is executed against a knowledge base or a corpus of text to obtain a set of search results, the set of search results comprising a plurality of candidate true sentences that can potentially be utilized to correct one or more entities or phrases of the raw text sentence. A candidate true sentence is selected from the plurality and used to correct the raw text sentence. For example, at least one entity or phrase of the candidate true sentence can be used to replace a corresponding entity or phrase of the raw text sentence.

Filed: February 2, 2022
Applicant: Oracle International Corporation
Inventor: Boris Galitsky

## HOW TO RUN
------------

Ensure that you have installed the required dependencies and added keys to api_keys/api_keys.csv.
You need to create an account with azure.microsoft.com to get the key to specify in api_keys/api_keys.csv
Other keys (OpenAI, Google, HugingFace, etc.) are optional


1) In a command line to produce a fact-checking report: put the text to be fact-checked into a buffer, then
   ```
   python src/correction_in_web_browser_opener.py
   ```

2) Streamlit 

   Run the `main.py` file using the Streamlit CLI. Execute the following command:
   ```
   streamlit run app.py
   ```
3) Integrate into your code
   library installation
   ```
   pip install truthometer
   ```
   ```
   from fact_checker_via_web import FactCheckerViaWeb
   fact_checker = FactCheckerViaWeb()
   filename = fact_checker.perform_and_report_fact_check_for_text(text)
   ```
   The created file contain the fact-checking report

## License
-------
It is released under the [MIT License](https://opensource.org/licenses/MIT).
